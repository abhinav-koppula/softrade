"use strict";angular.module("softradeApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.grid","ui.grid.selection"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("softradeApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.cities=[{city:"Wonderla",desc:"28th km, Mysore Road, Before Bidadi, Bengaluru, Karnataka 562109",lat:12.834,"long":77.4,id:1},{city:"ISKCON",desc:"Hare Krishna Hill, Chord Road, West Of Chord Road, Rajaji Nagar, Bangalore, Karnataka 560010",lat:13.0117586,"long":77.55119,id:2},{city:"Shree Dodda Ganapathi Temple",desc:"Bull Temple Rd, Basavanagudi, Bengaluru, Karnataka 560004",lat:12.9428041,"long":77.56824280000001,id:3},{city:"Malleshwaram",desc:"Malleshwaram, Bengaluru, Karnataka ",lat:13.0030624,"long":77.56429279999998,id:4},{city:"Lalbagh Botanical Garden",desc:"Bengaluru, Karnataka 560004",lat:12.9507432,"long":77.58477730000004,id:5},{city:"Surayanarayana Temple",desc:"K R Colony, Domlur Layout, Airport Road, Bengaluru ",lat:13.0334331,"long":77.58860340000001,id:6},{city:"M Chinnaswamy Stadium",desc:"MG Road, Near Gandhi Park, Near Anil Kumble Circle, Bengaluru, Karnataka 560001",lat:12.9791544,"long":77.60296779999999,id:7},{city:"Orion Mall",desc:"Brigade Gateway, 26/1 Dr. Rajkumar Road, Malleshwaram West, Bengaluru, Karnataka 560055",lat:13.00995,"long":77.55458999999996,id:8},{city:"Cubbon Park",desc:"Kasturba Road, Sampangi Rama Nagar, Bengaluru, Karnataka 560001",lat:12.9755362,"long":77.59099960000003,id:9},{city:"Vidhan Soudha",desc:"Vidhan Soudha, Bangalore, Karnataka",lat:12.981084,"long":77.588659,id:10},{city:"Silk Board",desc:"Silk Board Koramangala 1st Block, Venkatapura, Koramangala, Bengaluru, Karnataka 560034",lat:12.9177456,"long":77.6237883,id:11},{city:"Electronic City",desc:"Electronic City, Bangalore, Karnataka",lat:12.8399389,"long":77.67700309999998,id:12},{city:"Shanti Nagar",desc:"BTS Main Road, NGO Colony, Wilson Garden, Bengaluru, Karnataka 560027",lat:12.9569472,"long":77.59927029999994,id:13},{city:"IIM Bangalore",desc:"Bannerghatta Road, Bilekahalli, Bengaluru, Karnataka 560076",lat:12.894854,"long":77.6027732,id:14},{city:"IISC",desc:"C V Raman Ave, Bengaluru, Karnataka 560012",lat:13.0218597,"long":77.5671423,id:15},{city:"Forum Mall",desc:"No. 21, Hosur Road, Koramangala, Bengaluru, Karnataka 560095",lat:12.934689,"long":77.61206399999992,id:16},{city:"Majestic",desc:"Majestic Bengaluru, Karnataka",lat:12.9766637,"long":77.57125559999997,id:17},{city:"Nandi Hills",desc:"Nandi Hills, Bengaluru, Karnataka",lat:13.1357446,"long":78.13256109999998,id:18},{city:"Bannerghatta National Park",desc:"Bannerghatta Road, Bannerughatta, Bengaluru, Karnataka 560083",lat:12.8003338,"long":77.57752400000004,id:19},{city:"Whitefield",desc:"Whitefield, Bengaluru, Karnataka",lat:12.9961937,"long":77.76147990000004,index:20}];var b={zoom:12,center:new google.maps.LatLng(12.9715987,77.59456269999998)};a.map=new google.maps.Map(document.getElementById("map"),b),a.markers=[];for(var c=new google.maps.InfoWindow,d=function(b){var d=new google.maps.Marker({map:a.map,position:new google.maps.LatLng(b.lat,b["long"]),title:b.city,animation:google.maps.Animation.DROP});d.content='<div class="infoWindowContent">'+b.desc+"</div>",google.maps.event.addListener(d,"click",function(){c.setContent("<h2>"+d.title+"</h2>"+d.content),c.open(a.map,d)}),a.markers.push(d)},e=0;e<a.cities.length;e++)d(a.cities[e]);a.openInfoWindow=function(b,c){b.preventDefault(),google.maps.event.trigger(a.markers[c-1],"click"),window.scrollTo(0,document.body.scrollHeight)},a.editable=!1,a.gridOptions={data:"cities",rowHeight:150,columnDefs:[{field:"city",displayName:"Name",cellTemplate:'<div class="ngCellText"><div ng-show="!grid.appScope.editable">{{row.entity.city}}</div><div ng-show="grid.appScope.editable" class="ngCellText"><textarea rows="5" cols="20" ng-model="row.entity.city"></textarea></div></div>'},{field:"desc",displayName:"Address",cellTemplate:'<div class="ngCellText"><div ng-show="!grid.appScope.editable">{{row.entity.desc}}</div><div ng-show="grid.appScope.editable" class="ngCellText"><textarea rows="5" cols="20" ng-model="row.entity.desc"></textarea></div></div>'},{field:"lat",displayName:"Latitude",cellTemplate:'<div class="ngCellText"><div ng-show="!grid.appScope.editable">{{row.entity.lat}}</div><div ng-show="grid.appScope.editable" class="ngCellText"><input type="text" ng-model="row.entity.lat"/></div></div>'},{field:"long",displayName:"Longitude",cellTemplate:'<div class="ngCellText"><div ng-show="!grid.appScope.editable">{{row.entity.long}}</div><div ng-show="grid.appScope.editable" class="ngCellText"><input type="text" ng-model="row.entity.long"/></div></div>'},{displayName:"View",field:"View",cellTemplate:'<button ng-click="grid.appScope.openInfoWindow($event, row.entity.id)">View</button>'}]},a.toggleEdit=function(){if(a.editable===!0){console.log(a.cities);for(var b=0;b<a.markers.length;b++)a.markers[b].setMap(null);a.markers=[];for(var b=0;b<a.cities.length;b++)d(a.cities[b])}a.editable=!a.editable}}]),angular.module("softradeApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);